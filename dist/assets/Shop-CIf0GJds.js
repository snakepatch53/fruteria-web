import{j as e,r as i,P as m,c as l,C as u,L as f,u as w,a as C,b as k}from"./index-BEPDck7T.js";import{F as d,f as I,a as h,b as W,c as q,d as S,e as F,g as j}from"./index.es-DSuFtR6j.js";function g(){return e.jsxs("div",{className:" flex h-full items-center p-3 ",children:[e.jsx("img",{className:" h-full aspect-square object-contain ",src:"/logo.png",alt:"Logo de Fruteria"}),e.jsx("h1",{className:" hidden sm:block text-2xl font-bold text-[--c1-txt] ",children:"Fruteria"})]})}function N({classWrapp:s=""}){const{filterBySearch:a}=i.useContext(m);return e.jsxs("div",{className:l(" flex items-center my-auto bg-[--c2] p-2 rounded-md border ",s),children:[e.jsx("input",{className:" bg-transparent flex-1 ",type:"text",placeholder:" Buscar.. ",onChange:t=>a(t.target.value)}),e.jsx(d,{icon:I})]})}function L(){const{products:s,combos:a}=i.useContext(u),t=(s==null?void 0:s.length)+(a==null?void 0:a.length);return e.jsx("header",{className:" sticky top-0 z-10 lg:hidden w-full h-20 bg-[--c1]",children:e.jsxs("div",{className:"flex justify-between w-full h-full px-5 py-3 gap-3 items-center shadow-sm ",children:[e.jsx(g,{}),e.jsx(N,{classWrapp:" flex-1 max-w-96 "}),e.jsxs(f,{to:"/cart",className:" relative flex items-center justify-center w-10 aspect-square bg-[--c2] text-[--c2-txt2] rounded-full",children:[e.jsx("span",{className:" absolute -left-0 -top-1 flex justify-center items-center w-4 aspect-square  bg-red-500 text-white text-[10px]  rounded-full ",children:t}),e.jsx(d,{icon:h})]})]})})}function b({classWrapp:s="",classOption:a="",classIcon:t="",classText:n=""}){return e.jsxs("div",{className:l(" flex gap-2 my-auto ",s),children:[e.jsx(x,{classWrapp:l("",a),classIcon:l("",t),classText:l("",n),to:"/",name:"Todos",icon:W}),e.jsx(x,{classWrapp:l("",a),classIcon:l("",t),classText:l("",n),to:"/frutas",name:"Frutas",icon:q}),e.jsx(x,{classWrapp:l("",a),classIcon:l("",t),classText:l("",n),to:"/verduras",name:"Verduras",icon:S}),e.jsx(x,{classWrapp:l("",a),classIcon:l("",t),classText:l("",n),to:"/combos",name:"Combos",icon:F}),e.jsx(x,{classWrapp:l("",a),classIcon:l("",t),classText:l("",n),to:"/ofertas",name:"Ofertas",icon:j})]})}function x({children:s,to:a,name:t,icon:n,color:r,classWrapp:o="",classIcon:c="",classText:y=""}){const{pathname:v}=w(),p=v==a;return e.jsxs(f,{to:a||"#",className:l(" relative flex items-center gap-1 transition text-[--c2-txt] group ","flex-col lg:flex-row",o,{" text-[--c2-txt2] ":p}),style:{color:r},children:[e.jsx(d,{className:l(" opacity-70 transition-all group-hover:opacity-100 ",c,{" opacity-100 ":p}),icon:n}),e.jsx("span",{className:l("  ",y),children:t}),s||null]})}function P(){const{products:s,combos:a}=i.useContext(u),t=(s==null?void 0:s.length)+(a==null?void 0:a.length);return e.jsx("header",{className:" hidden lg:flex sticky top-0 z-10 h-24 px-[--p] bg-[--c2] shadow-sm  ",children:e.jsxs("div",{className:" container h-full justify-between ",children:[e.jsx(g,{}),e.jsx(b,{classWrapp:" gap-5 "}),e.jsx(N,{}),e.jsxs(f,{to:"/cart",className:" relative flex items-center justify-center w-12 aspect-square my-auto border-2 text-[--c2-txt2] rounded-full",children:[e.jsx("span",{className:" absolute left-0 top-0 flex justify-center items-center w-4 aspect-square  bg-red-500 text-white text-[10px]  rounded-full ",children:t}),e.jsx(d,{icon:h})]})]})})}function _(){return e.jsx("div",{style:{boxShadow:"0px -5px 5px 0px rgba(0,0,0,.05)"},className:" lg:hidden sticky bottom-0 flex w-full py-2 justify-center bg-[--c2] ",children:e.jsx(b,{classWrapp:" gap-5 justify-evenly w-full ",classIcon:" text-xl ",classText:" text-xs "})})}function T({category:s="all",filterCombos:a=!1,filterOffers:t=!1}){const{products:n,selectCategory:r}=i.useContext(m),{combos:o}=i.useContext(C);return i.useEffect(()=>{r(s)},[s,r]),e.jsxs(k,{children:[e.jsx(L,{}),e.jsx(P,{}),e.jsx("div",{className:" p-10 min-h-[100dvh] ",children:e.jsxs("div",{className:" container grid gap-5 md:gap-10 xs:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 ",children:[s=="all"&&!t&&(o==null?void 0:o.map(c=>e.jsx(A,{combo:c},c.id))),!a&&(n==null?void 0:n.map(c=>t&&!c.offer?null:e.jsx(B,{product:c},c.id)))]})}),e.jsx(_,{})]})}function A({combo:s}){var n;const{addCombo:a}=i.useContext(u);if(!((n=s==null?void 0:s.combo_products)!=null&&n.length)>0)return null;let t=s.combo_products.map(r=>r.product);return t.length>=4&&(t=t.slice(0,4)),t.length>=2&&(t=t.slice(0,2)),t.length<2&&(t=t.slice(0,1)),e.jsxs("button",{onClick:()=>a(s),className:" relative overflow-hidden flex flex-col justify-center items-center border rounded-3xl p-5 transition duration-300 ease-in-out transform hover:scale-105 group ",children:[e.jsx("span",{className:" absolute top-2 -left-6 -rotate-45 w-24 text-center bg-[--c4] text-[--c4-txt] text-[10px] px-2 py-1 rounded",children:"Combo"}),e.jsx("div",{className:l("flex-1 grid grid-cols-2 gap-2 aspect-square bg-[--c1] rounded-2xl p-5 ",{" grid-cols-2  ":t.length>1}),children:t.map(r=>e.jsx("div",{children:e.jsx("img",{className:" object-contain aspect-square md:grayscale-[.8] transition group-hover:grayscale-0  ",src:r.image_url,alt:"Imagen de "+r.name},r.id)},r.id))}),e.jsxs("div",{className:" gap-2 w-full text-sm ",children:[e.jsx("h2",{className:" text-center text-black/50 ",children:s.name}),e.jsx("p",{className:" text-center  ",children:s.description}),e.jsxs("p",{className:" text-center  ",children:["$",s.price]})]})]},s.id)}function B({product:s}){const{addProduct:a}=i.useContext(u),t=s.offer;return e.jsxs("button",{onClick:()=>a(s),className:" relative overflow-hidden flex flex-col justify-center items-center border rounded-3xl p-5 transition duration-300 ease-in-out transform hover:scale-105 group ",children:[!!t&&e.jsxs("span",{className:" absolute top-2 -left-6 -rotate-45 w-24 text-center bg-red-400 text-white text-[10px] px-2 py-1 rounded ",children:[e.jsx(d,{icon:j})," Oferta"]}),e.jsx("div",{className:"flex-1 aspect-square bg-[--c1] rounded-2xl p-5 ",children:e.jsx("img",{className:" w-full h-full object-contain md:grayscale-[.8] transition group-hover:grayscale-0  ",src:s.image_url,alt:"Imagen de "+s.name})}),e.jsxs("div",{className:" gap-2 w-full text-sm ",children:[e.jsxs("h2",{className:" text-center text-black/50 ",children:[s.name," / ",s.category]}),e.jsxs("p",{className:" text-center  ",children:["$",s.price,"/",s.sale_type]})]})]},s.id)}export{T as default};
