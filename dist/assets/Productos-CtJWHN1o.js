import{H as q,I as D,J as F,K as M,j as e,z as S,A as U,c as I,D as h,E as _,G as A}from"./index-BHxOHBCn.js";import{u as K,C as L,a as T,b as r,c as V}from"./useCrudPanel-CgGUm6X_.js";function H(){var d;const t=(a,c)=>{var u,x,m,p;let o=!0;return(x=(u=a.photo)==null?void 0:u.files)!=null&&x.length&&((p=(m=a.photo)==null?void 0:m.files[0])==null?void 0:p.size)>2e6&&(c("La foto debe pesar maximo 2MB"),o=!1),o},{entityName:s,pluralEntityName:l,head:b,table:f,form:j,confirm:g,progress:v,datalist:i,$form:y,handleModeNew:N,handleModeEdit:C,handleModeDelete:P,hanleCancel:n,handleSubmit:k,handleDelete:E,handleSearch:O}=K({entityName:"Producto",pluralEntityName:"Productos",searchFields:["name","description","price","category","sale_type"],extraValidations:t,isStorageMultipartFormData:!0,isUpdateMultipartFormData:!0,crudGet:q,crudStorage:D,crudUpdate:F,crudDestroy:M});return e.jsxs("div",{className:"p-4 space-y-4 w-full ",children:[e.jsx(L,{title:l,icon:S,isOpen:b,onClickNew:N,handleSearch:O}),f&&e.jsx("div",{className:"grid xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:(d=i==null?void 0:i.sort((a,c)=>c.active-a.active))==null?void 0:d.map(a=>e.jsx(z,{row:a,onEdit:()=>C(a),onDelete:()=>P(a)},a.id))}),e.jsxs(T,{title:s,isOpen:j,onClickCancel:n,onSubmit:k,formRef:y,children:[e.jsx(r,{label:"Nombre",name:"name",placeholder:"Nombre del producto",required:!0}),e.jsx(r,{label:"Descripción",name:"description",placeholder:"Escriba una descripción del producto",required:!0}),e.jsx(r,{label:"Precio",name:"price",type:"number",placeholder:"Escriba el precio del producto",required:!0}),e.jsx(r,{label:"Foto",name:"image",type:"file"}),e.jsx(r,{name:"category",label:"Categoria",type:"radio",radioOptions:[{value:"Frutas",label:"Frutas",checked:!0},{value:"Verduras",label:"Verduras"}],required:!0}),e.jsx(r,{name:"sale_type",label:"Tipo de venta",type:"radio",radioOptions:[{value:"Libras",label:"Libra",checked:!0},{value:"Kilos",label:"Kilo"},{value:"Unidades",label:"Unidad"}],required:!0}),e.jsx(r,{name:"offer",label:"Oferta",type:"radio",radioOptions:[{value:1,label:"si"},{value:0,label:"no",checked:!0}],required:!0}),e.jsx(r,{name:"active",label:"Activo",type:"radio",radioOptions:[{value:1,label:"si",checked:!0},{value:0,label:"no"}],required:!0})]}),e.jsx(V,{isOpen:g,text:"¿Estás seguro de eliminar este usuario?",onClickDelete:E,onClickCancel:n}),e.jsx(U,{isOpen:v,text:"Procesando tu solicitud..."})]})}function z({row:t,onEdit:s,onDelete:l}){return e.jsxs("div",{className:" flex flex-col items-center gap-2 p-4 border rounded-lg shadow bg-[--c2] text-[--c2-txt] ",children:[e.jsx("img",{src:t.image_url,alt:t.name,className:" w-32 aspect-square object-contain border rounded-lg "}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm text-center font-medium text-[--c2-txt] truncate",children:t.name}),e.jsxs("p",{className:" text-sm text-center text-[--c2-txt3] truncate ",children:["$",t.price," / ",t.sale_type]}),e.jsx("p",{className:" text-sm text-center text-[--c2-txt3] truncate ",children:t.category}),e.jsxs("div",{className:" flex justify-center items-center gap-1 text-center ",children:[e.jsx("p",{className:I("text-xs text-center ",{" text-red-600 ":!t.active," text-green-600 ":t.active}),children:t.active?"Activo":"Inactivo"}),!!t.offer&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:" - "}),e.jsx("p",{className:" text-xs text-center text-blue-800 ",children:"En Oferta"})]})]})]}),e.jsxs("div",{className:" flex flex-shrink-0 ",children:[e.jsx(h,{onClick:s,icon:_}),e.jsx(h,{onClick:l,icon:A})]})]})}export{H as default};
