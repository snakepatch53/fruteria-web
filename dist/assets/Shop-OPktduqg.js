import{j as e,r as o,P as j,c as l,F as d,f as k,C as f,L as m,a as p,b as q,d as I,e as W,g as F,h as g,u as S,i as P,k as z}from"./index-06cXOb2S.js";function b(){return e.jsxs("div",{className:" flex h-full items-center p-3 ",children:[e.jsx("img",{className:" h-full aspect-square object-contain ",src:"/logo.png",alt:"Logo de Fruteria"}),e.jsx("h1",{className:" hidden sm:block text-2xl font-bold text-[--c1-txt] ",children:"Fruteria"})]})}function N({classWrapp:s=""}){const{filterBySearch:t}=o.useContext(j);return e.jsxs("div",{className:l(" flex items-center my-auto bg-[--c2] p-2 rounded-md border ",s),children:[e.jsx("input",{className:" bg-transparent flex-1 ",type:"text",placeholder:" Buscar.. ",onChange:a=>t(a.target.value)}),e.jsx(d,{icon:k})]})}function L(){const{products:s,combos:t}=o.useContext(f),a=(s==null?void 0:s.length)+(t==null?void 0:t.length);return e.jsx("header",{className:" sticky top-0 z-10 lg:hidden w-full h-20 bg-[--c1]",children:e.jsxs("div",{className:"flex justify-between w-full h-full px-5 py-3 gap-3 items-center shadow-sm ",children:[e.jsx(b,{}),e.jsx(N,{classWrapp:" flex-1 max-w-96 "}),e.jsxs("button",{className:" relative flex items-center justify-center w-10 aspect-square bg-[--c2] text-[--c2-txt2] rounded-full ",type:"button",children:[e.jsx("div",{className:" absolute -left-0 -top-1 flex justify-center items-center w-4 aspect-square  bg-red-500 text-white text-[10px]  rounded-full ",children:a||0}),e.jsx(m,{to:"/cart",className:" flex justify-center items-center w-full h-full ",children:e.jsx(d,{icon:p})})]})]})})}function y({classWrapp:s="",classOption:t="",classIcon:a="",classText:r=""}){return e.jsxs("div",{className:l(" flex gap-2 my-auto ",s),children:[e.jsx(u,{classWrapp:l("",t),classIcon:l("",a),classText:l("",r),to:"/",name:"Todos",icon:q}),e.jsx(u,{classWrapp:l("",t),classIcon:l("",a),classText:l("",r),to:"/frutas",name:"Frutas",icon:I}),e.jsx(u,{classWrapp:l("",t),classIcon:l("",a),classText:l("",r),to:"/verduras",name:"Verduras",icon:W}),e.jsx(u,{classWrapp:l("",t),classIcon:l("",a),classText:l("",r),to:"/combos",name:"Combos",icon:F}),e.jsx(u,{classWrapp:l("",t),classIcon:l("",a),classText:l("",r),to:"/ofertas",name:"Ofertas",icon:g})]})}function u({children:s,to:t,name:a,icon:r,color:c,classWrapp:i="",classIcon:n="",classText:v=""}){const{pathname:C}=S(),h=C==t;return e.jsxs(m,{to:t||"#",className:l(" relative flex items-center gap-1 transition text-[--c2-txt] group ","flex-col lg:flex-row",i,{" text-[--c2-txt2] ":h}),style:{color:c},children:[e.jsx(d,{className:l(" opacity-70 transition-all group-hover:opacity-100 ",n,{" opacity-100 ":h}),icon:r}),e.jsx("span",{className:l("  ",v),children:a}),s||null]})}function _(){const{products:s,combos:t}=o.useContext(f),a=(s==null?void 0:s.length)+(t==null?void 0:t.length);return e.jsx("header",{className:" hidden lg:flex sticky top-0 z-10 h-24 px-[--p] bg-[--c2] shadow-sm  ",children:e.jsxs("div",{className:" container h-full justify-between ",children:[e.jsx(b,{}),e.jsx(y,{classWrapp:" gap-5 "}),e.jsx(N,{}),e.jsxs("button",{className:" relative flex items-center justify-center w-10 aspect-square my-auto bg-[--c2] text-[--c2-txt2] rounded-full ",type:"button",children:[e.jsx("div",{className:" absolute -left-0 -top-1 flex justify-center items-center w-4 aspect-square  bg-red-500 text-white text-[10px]  rounded-full ",children:a||0}),e.jsx(m,{to:"/cart",className:" flex justify-center items-center w-full h-full ",children:e.jsx(d,{icon:p})})]})]})})}function A(){return e.jsx("div",{style:{boxShadow:"0px -5px 5px 0px rgba(0,0,0,.05)"},className:" lg:hidden sticky bottom-0 flex w-full py-2 justify-center bg-[--c2] ",children:e.jsx(y,{classWrapp:" gap-5 justify-evenly w-full ",classIcon:" text-xl ",classText:" text-xs "})})}function T({category:s="all",filterCombos:t=!1,filterOffers:a=!1}){const{products:r,selectCategory:c}=o.useContext(j),{combos:i}=o.useContext(P);return o.useEffect(()=>{c(s)},[s,c]),e.jsxs(z,{children:[e.jsx(L,{}),e.jsx(_,{}),e.jsxs("div",{className:" flex flex-col gap-5 p-10 min-h-[100dvh] ",children:[e.jsxs("div",{className:" container grid gap-5 md:gap-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 ",children:[s=="all"&&!a&&(i==null?void 0:i.map(n=>e.jsx(B,{combo:n},n.id))),s=="all"&&!a&&i===null&&e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{})]})]}),e.jsxs("div",{className:" container grid gap-5 md:gap-10 xs:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 ",children:[!t&&(r==null?void 0:r.map(n=>a&&!n.offer?null:e.jsx(E,{product:n},n.id))),!t&&r===null&&e.jsxs(e.Fragment,{children:[e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{}),e.jsx(x,{})]})]})]}),e.jsx(A,{})]})}function B({combo:s}){var i;const{addCombo:t,combos:a}=o.useContext(f);if(!((i=s==null?void 0:s.combo_products)!=null&&i.length)>0)return null;let r=s.combo_products.map(n=>n.product);const c=a.find(n=>n.id===s.id);return e.jsxs("button",{onClick:()=>t(s),className:" relative overflow-hidden flex flex-col justify-center items-center border rounded-3xl p-5 transition duration-300 ease-in-out transform hover:scale-105 group ",children:[e.jsx(w,{show:c,text:c==null?void 0:c.quantity}),e.jsx("span",{className:" absolute z-10 top-2 -left-6 -rotate-45 w-24 text-center bg-[--c4] text-[--c4-txt] text-[10px] px-2 py-1 rounded",children:"Combo"}),e.jsx("div",{className:l("flex-1 grid grid-cols-[repeat(auto-fit,minmax(65px,1fr))] w-full min-h-36 gap-2 bg-[--c1] rounded-2xl p-5 ",{" opacity-70 ":c}),children:r.map(n=>e.jsxs("div",{children:[e.jsx("img",{className:" object-contain aspect-square md:grayscale-[.8] transition group-hover:grayscale-0  ",src:n.image_url,alt:"Imagen de "+n.name},n.id),e.jsx("span",{className:" block text-[11px] leading-[11px] text-center opacity-60 ",children:n.name})]},n.id))}),e.jsxs("div",{className:" gap-2 w-full text-sm ",children:[e.jsx("h2",{className:" text-center text-black/50 ",children:s.name}),e.jsx("p",{className:" text-center  ",children:s.description}),e.jsxs("p",{className:" text-center  ",children:["$",s.price]})]})]},s.id)}function E({product:s}){const{addProduct:t,products:a}=o.useContext(f),r=s.offer,c=a.find(i=>i.id===s.id);return e.jsxs("button",{onClick:()=>t(s),className:" relative overflow-hidden flex flex-col justify-center items-center border rounded-3xl p-5 transition duration-300 ease-in-out transform hover:scale-105 group ",children:[e.jsx(w,{show:c,text:c==null?void 0:c.quantity}),!!r&&e.jsxs("span",{className:" absolute z-10 top-2 -left-6 -rotate-45 w-24 text-center bg-red-400 text-white text-[10px] px-2 py-1 rounded ",children:[e.jsx(d,{icon:g})," Oferta"]}),e.jsx("div",{className:l("flex-1 aspect-square bg-[--c1] rounded-2xl p-5 ",{" opacity-70 ":c}),children:e.jsx("img",{className:" w-full h-full object-contain md:grayscale-[.8] transition group-hover:grayscale-0  ",src:s.image_url,alt:"Imagen de "+s.name})}),e.jsxs("div",{className:" gap-2 w-full text-sm ",children:[e.jsxs("h2",{className:" text-center text-black/50 ",children:[s.name," / ",s.category]}),e.jsxs("p",{className:" text-center  ",children:["$",s.price,"/",s.sale_type]})]})]},s.id)}function x(){return e.jsxs("div",{className:" flex flex-col bg-black/10 rounded-3xl p-5 animate-pulse gap-1",children:[e.jsx("div",{className:" block w-full aspect-square rounded-2xl border bg-black/5 "}),e.jsx("div",{className:"flex flex-col items-center ",children:e.jsxs("div",{className:"w-full flex flex-col gap-2 items-center",children:[e.jsx("span",{className:" h-4 w-full max-w-48 bg-black/5 rounded-full"}),e.jsx("span",{className:"h-4 w-full max-w-20 bg-black/5 rounded-full"}),e.jsx("span",{className:"h-4 w-full max-w-28 bg-black/5 rounded-full"})]})})]})}function w({show:s,text:t}){return e.jsx("div",{className:l(" absolute z-10 top-2 right-2 hidden h-12 aspect-square rounded-full bg-[--c2] text-[--c2-txt2] text-lg border shadow ",{" flex ":s}),children:e.jsxs("div",{className:" relative flex justify-center items-center w-full h-full ",children:[e.jsx("div",{className:" absolute -left-1 top-0 flex justify-center items-center h-4 aspect-square  bg-red-500 text-white text-[10px]  rounded-full ",children:t}),e.jsx(d,{icon:p})]})})}export{T as default};
