import{r as m,C as f,j as e,b as p,L as u,c as j}from"./index-D95nkBxt.js";import{F as d,m as h,a as g}from"./index.es-De6dXI22.js";function C(){const{products:t,combos:l,updateProductQuantity:s,updateComboQuantity:r}=m.useContext(f);if(t===null||l===null)return null;const x=1.5,i=t.reduce((a,n)=>a+n.price*n.quantity,0)+l.reduce((a,n)=>a+n.price*n.quantity,0),o=i+x;return e.jsxs(p,{className:" flex flex-col ",children:[e.jsx("div",{className:" sticky top-0 z-10 flex items-center px-[--p] h-20 bg-[--c1] text-[--c1-txt] ",children:e.jsxs("div",{className:" container justify-between items-center ",children:[e.jsxs(u,{to:"/",className:" flex items-center gap-2 p-4  rounded-full transition duration-300 ease-in-out transform hover:scale-105  hover:bg-black/10 ",children:[e.jsx(d,{icon:h}),e.jsx("span",{children:"Volver a la Tienda"})]}),e.jsx("div",{className:" flex p-4 bg-[--c2] rounded-full text-[--c2-txt2] opacity-80 ",children:e.jsx(d,{icon:g})})]})}),e.jsx("div",{className:" p-5 md:p-10 min-h-[100dvh] ",children:e.jsxs("div",{className:" container flex flex-col gap-5 ",children:[t==null?void 0:t.map(a=>e.jsx(N,{product:a,updateQuantity:s},a.id)),l==null?void 0:l.map(a=>e.jsx(b,{combo:a,updateQuantity:r},a.id))]})}),e.jsxs("div",{className:" sticky bottom-0 flex flex-col items-center gap-2 px-[--p] py-4 bg-[--c3] text-[--c3-txt] backdrop-blur-md ",style:{boxShadow:"0px -2px 10px 0px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{className:" flex justify-center gap-2  ",children:[e.jsx("span",{className:" font-bold ",children:"Entrega: "}),e.jsxs("span",{children:["$",x.toFixed(2)]})]}),e.jsxs("div",{className:" flex justify-center gap-2  ",children:[e.jsx("span",{className:" font-bold ",children:"Subtotal: "}),e.jsxs("span",{children:["$",i.toFixed(2)]})]}),e.jsxs("div",{className:" flex justify-center gap-2  ",children:[e.jsx("span",{className:" font-bold ",children:"Total: "}),e.jsxs("span",{children:["$",o.toFixed(2)]})]}),e.jsx(y,{})]})]})}function N({product:t,updateQuantity:l}){const s=t.price*t.quantity;return e.jsxs("div",{className:"flex flex-col xs:flex-row items-center justify-between px-3 py-3 md:px-8 border rounded-lg ",children:[e.jsx("div",{className:" p-2 w-24 md:w-32 aspect-square ",children:e.jsx("img",{className:" w-full h-full object-contain  rounded-md ",src:t.image_url,alt:t.name})}),e.jsxs("div",{className:" flex-1 flex flex-col gap-1",children:[e.jsx("h3",{className:" text-sm md:text-base uppercase font-bold leading-[15px] text-center xs:text-left md:text-center ",children:t.name}),e.jsxs("div",{className:" flex flex-col-reverse xs:flex-row ",children:[e.jsxs("div",{className:" flex-1 flex flex-col ",children:[e.jsxs("span",{className:"opacity-70 text-xs md:text-base text-center xs:text-left md:text-center ",children:["$",t.price," / ",t.sale_type]}),e.jsxs("div",{className:"flex gap-3 items-center mt-2 mx-auto xs:mx-0 md:mx-auto ",children:[e.jsx(c,{text:"-",onClick:()=>l(t,!1)}),e.jsx("span",{children:t.quantity}),e.jsx(c,{text:"+",onClick:()=>l(t)})]})]}),e.jsxs("span",{className:" flex items-center text-base md:text-lg text-[--c2-txt2] text-center xs:text-left ",children:["$",s.toFixed(2)]})]})]})]})}function b({combo:t,updateQuantity:l}){let s=t.combo_products.map(x=>x.product);s.length>=4&&(s=s.slice(0,4)),s.length>=2&&(s=s.slice(0,2)),s.length<2&&(s=s.slice(0,1));const r=t.price*t.quantity;return e.jsxs("div",{className:"flex flex-col xs:flex-row items-center justify-between px-3 py-3 md:px-8 border rounded-lg ",children:[e.jsx("div",{className:j(" p-2 grid grid-cols-1 w-24 md:w-32 aspect-square ",{"grid-cols-2":s.length>1}),children:s.map(x=>e.jsx("img",{className:" w-full object-contain  rounded-md ",src:x.image_url,alt:x.name},x.id))}),e.jsxs("div",{className:" flex-1 flex flex-col gap-1",children:[e.jsx("h3",{className:" text-sm md:text-base uppercase font-bold leading-[15px] text-center xs:text-left md:text-center ",children:t.name}),e.jsxs("div",{className:" flex flex-col-reverse xs:flex-row ",children:[e.jsxs("div",{className:" flex-1 flex flex-col ",children:[e.jsxs("span",{className:"opacity-70 text-xs md:text-base text-center xs:text-left md:text-center ",children:["$",t.price," / Unidad"]}),e.jsxs("div",{className:"flex gap-3 items-center mt-2 mx-auto xs:mx-0 md:mx-auto ",children:[e.jsx(c,{text:"-",onClick:()=>l(t,!1)}),e.jsx("span",{children:t.quantity}),e.jsx(c,{text:"+",onClick:()=>l(t)})]})]}),e.jsxs("span",{className:" flex items-center text-base md:text-lg text-[--c2-txt2] text-center xs:text-left ",children:["$",r.toFixed(2)]})]})]})]})}function c({text:t,onClick:l}){return e.jsx("button",{onClick:l,className:"flex bg-[--c4] text-[--c4-txt] text-center rounded-md w-10 aspect-square  items-center justify-center",children:t})}function y(){return e.jsxs("form",{className:" flex flex-col gap-3 w-full max-w-64 ",children:[e.jsx("input",{className:" border p-2 rounded w-full ",type:"text",placeholder:"CÃ©dula"}),e.jsx("input",{className:" border p-2 rounded w-full ",type:"text",placeholder:"Nombre"}),e.jsx("button",{className:" border bg-[--c1] text-[--c1-txt] flex justify-center items-center gap-2 w-full max-w-64 rounded-lg p-3 text-center opacity-90 transition hover:scale-110 hover:opacity-100 ",children:"Comprar"})]})}export{C as default};
