import{M as v,N as y,O as k,Q as E,j as e,z as D,A as O,c as q,D as o,L as P,R as S,E as M,G as A}from"./index-BHxOHBCn.js";import{u as F,C as I,a as R,b as d,c as U}from"./useCrudPanel-CgGUm6X_.js";function T(){var u;const{entityName:a,pluralEntityName:c,head:n,table:s,form:l,confirm:t,progress:x,datalist:i,$form:p,handleModeNew:b,handleModeEdit:h,handleModeDelete:f,hanleCancel:m,handleSubmit:g,handleDelete:j,handleSearch:C}=F({entityName:"Combo",pluralEntityName:"Combos",searchFields:["name","price"],crudGet:v,crudStorage:y,crudUpdate:k,crudDestroy:E});return e.jsxs("div",{className:"p-4 space-y-4 w-full ",children:[e.jsx(I,{title:c,icon:D,isOpen:n,onClickNew:b,handleSearch:C}),s&&e.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:(u=i==null?void 0:i.sort((r,N)=>N.active-r.active))==null?void 0:u.map(r=>e.jsx(B,{row:r,onEdit:()=>h(r),onDelete:()=>f(r)},r.id))}),e.jsxs(R,{title:a,isOpen:l,onClickCancel:m,onSubmit:g,formRef:p,children:[e.jsx(d,{label:"Nombre",name:"name",placeholder:"Nombre del combo",required:!0}),e.jsx(d,{label:"Precio",name:"price",type:"number",placeholder:"Escriba unprecio para el combo",required:!0}),e.jsx(d,{name:"active",label:"Activo",type:"radio",radioOptions:[{value:1,label:"si",checked:!0},{value:0,label:"no"}],required:!0})]}),e.jsx(U,{isOpen:t,text:"¿Estás seguro de eliminar este usuario?",onClickDelete:j,onClickCancel:m}),e.jsx(O,{isOpen:x,text:"Procesando tu solicitud..."})]})}function B({row:a,onEdit:c,onDelete:n}){var l;const s=(l=a.combo_products)==null?void 0:l.map(t=>t.product);return e.jsxs("div",{className:" flex flex-col items-center gap-2 p-4 border rounded-lg shadow bg-[--c2] text-[--c2-txt] ",children:[(s==null?void 0:s.length)>0?e.jsx("div",{className:" flex-1 grid grid-cols-[repeat(auto-fill,minmax(70px,1fr))] w-full gap-1 p-2 border rounded-lg ",children:s.map(t=>e.jsx("img",{src:t.image_url,alt:t.name,className:"w-full aspect-square object-contain rounded-full"},t.id))}):e.jsx("p",{className:" w-full text-center px-2 py-5 border rounded-lg bg-black/5",children:"No hay productos en este combo"}),e.jsxs("div",{className:" min-w-0",children:[e.jsx("p",{className:"text-sm text-center font-medium text-[--c2-txt] truncate",children:a.name}),e.jsxs("p",{className:" text-sm text-center text-[--c2-txt3] truncate ",children:["$",a.price," / Unidad"]}),e.jsx("p",{className:" text-sm text-center text-[--c2-txt3] truncate ",children:a.category}),e.jsx("p",{className:q("text-xs text-center ",{" text-red-600 ":a.active!==1," text-green-600 ":a.active===1}),children:a.active===1?"Activo":"Inactivo"})]}),e.jsxs("div",{className:" flex flex-shrink-0 ",children:[e.jsx(o,{tag:P,to:"/panel/combos/"+a.id,icon:S}),e.jsx(o,{onClick:c,icon:M}),e.jsx(o,{onClick:n,icon:A})]})]})}export{T as default};
